# 1. Spring Boot 기본 설정
server:
  port: 8080

# 2. Kafka 설정
spring:
  application:
    name: kafka-tx-demo

  kafka:
    producer:
      # Kafka 브로커 주소 설정 (실제 환경에 맞게 변경하세요)
      bootstrap-servers: localhost:9092
      # 키/값 시리얼라이저
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.apache.kafka.common.serialization.StringSerializer
      # Exactly Once Semantics (EOS)에 필수
      acks: all 
      # [Fact] 멱등성 활성화: 중복 없는 전송 보장 (Sequence Number 사용)
      properties:
        enable.idempotence: true      
      # 트랜잭션을 활성화하고 트랜잭션 ID 접두사를 설정합니다. 
      # Spring Kafka는 이 접두사 뒤에 인덱스를 붙여 고유한 ID를 생성합니다.
      transaction-id-prefix: tx-order-
      # 재시도 횟수
      retries: 3
   
# 애플리케이션에서 사용할 토픽 이름을 정의합니다.
app:
  topic: api-input-topic